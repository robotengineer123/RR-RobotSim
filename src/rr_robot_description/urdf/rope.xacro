<?xml version="1.0"?>
<robot xmlns:xacro="http://ros.org/wiki/xacro" name="rope_macro">
  <xacro:macro name="chassis_macro" params="parent_link">
    <!-- Rope yaw -->
    <link name="rope_yaw_link">
        <inertial>
          <mass value="0.01" />
          <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01" />
        </inertial>
    </link>
    <joint name="rope_yaw_joint" type="revolute">
      <axis xyz="0 0 1" />
      <limit lower="-0.7853" upper="0.7853"/>
      <parent link="${parent_link}"/>
      <child link="rope_yaw_link"/>
    </joint>

    <!-- rope prismatic joint (springed joint)-->
    <link name="rope_link">
        <inertial>
          <origin xyz="0.45171 -1.9114E-06 -0.0060107" rpy="0 0 0" />
          <mass value="0.01" />
          <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01" />
        </inertial>
    </link>

    <joint name="${parent_link}_to_rope" type="prismatic">
      <origin xyz="0 0 35" />
      <axis xyz="1 0 0" />
      <parent link="rope_yaw_link"/>
      <child link="rope_link" />
      <dynamics damping="1" />
    </joint>
  </xacro:macro>
</robot>